-- Table to hold seat details
CREATE TABLE SEAT_DET(
SEAT_ID VARCHAR(20) PRIMARY KEY,
SEAT_NO INTEGER,
ROW_ID VARCHAR(10)
);

-- SEQUECE for CUST_TXN_DETAILS TABLE
CREATE SEQUENCE TXN_ID_SEQ START WITH 1 INCREMENT BY 1;

-- table to hold CUST_TXN_DETAILS
create TABLE CUST_TXN_DETAILS(CUST_TXN_ID INTEGER PRIMARY KEY ,CUST_EMAIL VARCHAR(100));

-- table to hold seat allocation details
CREATE TABLE SEAT_ALLOCATION(
SEAT_ALLOC_ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 100, INCREMENT BY 1) PRIMARY KEY,
SEAT_ID VARCHAR(20),
CUST_TXN_ID INTEGER,
CUST_TXN_STATUS VARCHAR(20) DEFAULT 'AVAILABLE',
ALLOTMENT_TIME TIMESTAMP DEFAULT '1940-01-01 00:00:00.000000',
FOREIGN KEY (SEAT_ID) REFERENCES SEAT_DET(SEAT_ID),
FOREIGN KEY (CUST_TXN_ID) REFERENCES CUST_TXN_DETAILS(CUST_TXN_ID)
);
